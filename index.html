<!doctype html>
<html lang="en" translate="no">

<head>
	<meta charset="UTF-8" />
	<meta name="google" content="notranslate" />
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
	<title>Game</title>
	<style>
	body {
		background: #000000;
	}
	</style>
	<link rel="stylesheet" href="/static/css/fonts-override.css?v=1">
	<link rel="stylesheet" href="hide-preloader.css">
	<link rel="stylesheet" href="icon-font-fix.css">
	<link rel="stylesheet" href="feather-icons-fallback.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.css">
</head>

<body translate="no">
	<div id="app"></div>
	<div id="modal"></div>

	<!-- ================== –ù–ê–ß–ê–õ–û –ë–õ–û–ö–ê –ú–û–ö–ò–†–û–í–ê–ù–ò–Ø ================== -->
	<script src="fix-auth-error.js"></script>
	<script src="api-monitor.js"></script>
	<!-- <script src="button-debug.js"></script> -->
	<!-- <script src="deep-diagnosis.js"></script> -->
	<script src="balance-spy.js"></script>
	<script>
	  // –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ Service Workers
	  if ('serviceWorker' in navigator) {
	    navigator.serviceWorker.getRegistrations().then(function(registrations) {
	      for(let registration of registrations) {
	        console.log('[Mock] –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π Service Worker:', registration.scope);
	        registration.unregister();
	      }
	    });
	  }
	</script>
	<script>
	  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–æ–∫–µ–Ω —Å—Ä–∞–∑—É –≤ localStorage
	  const FAKE_JWT = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTIzNDU2LCJuaWNrbmFtZSI6IkxvY2FsVm9ydGV4IiwiYmFsYW5jZSI6OTk5OTk5MDAsInN1YiI6InVzZXJfMTIzNDU2IiwiZXhwIjoxNzM3NDAwMDAwLCJpYXQiOjE3Mzc0MDAwMDB9.fake-signature';
	  
	  // –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ —Ç–æ–∫–µ–Ω—ã
	  localStorage.removeItem('token');
	  sessionStorage.removeItem('token');
	  
	  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
	  localStorage.setItem('token', FAKE_JWT);
	  console.log('[Mock] –¢–æ–∫–µ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ localStorage:', FAKE_JWT);
	  
	  // –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞
	  window.checkToken = function() {
	    const token = localStorage.getItem('token');
	    console.log('[Mock] –¢–µ–∫—É—â–∏–π —Ç–æ–∫–µ–Ω –≤ localStorage:', token);
	    if (token) {
	      try {
	        const parts = token.split('.');
	        const header = JSON.parse(atob(parts[0]));
	        const payload = JSON.parse(atob(parts[1]));
	        console.log('[Mock] –¢–æ–∫–µ–Ω –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω:', { header, payload });
	      } catch (e) {
	        console.error('[Mock] –û—à–∏–±–∫–∞ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞:', e);
	      }
	    }
	  };
	  
	  // –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è
	  window.checkProfile = function() {
	    fetch('/api/common/profile', { method: 'POST' })
	      .then(response => response.json())
	      .then(data => {
	        console.log('[Mock] –û—Ç–≤–µ—Ç –ø—Ä–æ—Ñ–∏–ª—è:', data);
	        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –ø–æ–ª—è –Ω–∞ undefined
	        Object.keys(data).forEach(key => {
	          if (data[key] === undefined) {
	            console.warn('[Mock] –ü–æ–ª–µ undefined:', key);
	          }
	        });
	      })
	      .catch(e => console.error('[Mock] –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è:', e));
	  };
	  
	  // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –ø—Ä–æ—Å—Ç–æ–π Service Worker
	  if ('serviceWorker' in navigator) {
	    navigator.serviceWorker.register('./mock-service-worker.js?v=15')
	      .then(function(registration) {
	        console.log('[Mock] Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:', registration.scope);
	        return navigator.serviceWorker.ready;
	      })
	      .then(function(registration) {
	        console.log('[Mock] Service Worker –≥–æ—Ç–æ–≤');
	      })
	      .catch(function(err) {
	        console.error('[Mock] –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ Service Worker:', err);
	      });
	  } else {
	    console.log('[Mock] Service Worker –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
	  }
	</script>
	<!-- =================== –ö–û–ù–ï–¶ –ë–õ–û–ö–ê –ú–û–ö–ò–†–û–í–ê–ù–ò–Ø =================== -->

	<!-- –ú–æ–∫ WebSocket –¥–ª—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã -->
	<script src="websocket-mock.js"></script>
	
	<!-- –†–µ–∑–µ—Ä–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ª–∞–¥–∫–∏ –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ websocket-mock.js –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è -->
	<script>
		// –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ websocket-mock.js
		setTimeout(function() {
			if (typeof window.debugToken !== 'function') {
				console.warn('[Backup] websocket-mock.js –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è, —Å–æ–∑–¥–∞–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏...');
				
				// –†–µ–∑–µ—Ä–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è debugToken
				window.debugToken = function(token) {
					console.log('[Backup] üîç –û—Ç–ª–∞–¥–∫–∞ JWT —Ç–æ–∫–µ–Ω–∞:', token);
					console.log('[Backup] üîç –¢–∏–ø —Ç–æ–∫–µ–Ω–∞:', typeof token);
					console.log('[Backup] üîç –î–ª–∏–Ω–∞ —Ç–æ–∫–µ–Ω–∞:', token ? token.length : 'undefined');
					
					if (!token) {
						console.error('[Backup] ‚ùå –¢–æ–∫–µ–Ω –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∏–ª–∏ undefined!');
						return null;
					}
					
					try {
						const parts = token.split('.');
						console.log('[Backup] üîç –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å—Ç–µ–π —Ç–æ–∫–µ–Ω–∞:', parts.length);
						
						if (parts.length === 3) {
							const header = JSON.parse(atob(parts[0]));
							const payload = JSON.parse(atob(parts[1]));
							console.log('[Backup] ‚úÖ –¢–æ–∫–µ–Ω –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ:');
							console.log('[Backup] üîë JWT Header:', header);
							console.log('[Backup] üîë JWT Payload:', payload);
							return { header, payload };
						} else {
							console.error('[Backup] ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç JWT —Ç–æ–∫–µ–Ω–∞');
							return null;
						}
					} catch (error) {
						console.error('[Backup] ‚ùå –û—à–∏–±–∫–∞ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞:', error);
						return null;
					}
				};
				
				// –†–µ–∑–µ—Ä–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è debugGameJWT
				window.debugGameJWT = function() {
					console.log('[Backup] üîç –ü–æ–∏—Å–∫ JWT —Ç–æ–∫–µ–Ω–∞ –≤ –∏–≥—Ä–µ...');
					
					const searchPaths = [
						'window.game.profile.token',
						'window.profile.token',
						'window.user.token',
						'window.auth.token',
						'window.token'
					];
					
					for (const path of searchPaths) {
						try {
							const value = eval(path);
							if (value) {
								console.log(`[Backup] üîë –ù–∞–π–¥–µ–Ω —Ç–æ–∫–µ–Ω –≤ ${path}:`, value);
								return window.debugToken(value);
							}
						} catch (e) {
							// –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏
						}
					}
					
					console.error('[Backup] ‚ùå JWT —Ç–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω!');
					return null;
				};
				
				// –†–µ–∑–µ—Ä–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è debugProfile
				window.debugProfile = function() {
					console.log('[Backup] üîç –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è...');
					return window.debugGameJWT();
				};
				
				console.log('[Backup] ‚úÖ –†–µ–∑–µ—Ä–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ª–∞–¥–∫–∏ —Å–æ–∑–¥–∞–Ω—ã');
			}
		}, 2000); // –ñ–¥–µ–º 2 —Å–µ–∫—É–Ω–¥—ã
	</script>
	

	<!-- –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∏–≥—Ä—ã -->
	<script defer="defer" src="index.9480c28da0a805029a18.js"></script>

	<!-- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –∏–∫–æ–Ω–∫–∏ –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∫–∞—Ä—Ç—ã -->
	<script>
	    function fixCreditCardIcons() {
	        // –ò—â–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã —Å –∫–ª–∞—Å—Å–æ–º fi-rr-credit-card –∏ –∑–∞–º–µ–Ω—è–µ–º –Ω–∞ fm-iconFont
	        const creditCardIcons = document.querySelectorAll('i.fi-rr-credit-card, i.fi-credit-card');
	        
	        creditCardIcons.forEach(function(icon) {
	            // –ó–∞–º–µ–Ω—è–µ–º –∫–ª–∞—Å—Å—ã Feather Icons –Ω–∞ fm-iconFont
	            icon.classList.remove('fi', 'fi-rr-credit-card', 'fi-credit-card');
	            icon.classList.add('fm-iconFont-ios-creditcard');
	            
	            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª–∏
	            icon.style.fontFamily = 'fm-iconFont';
	            icon.style.fontStyle = 'normal';
	            icon.style.fontWeight = 'normal';
	            icon.style.display = 'inline-block';
	            
	            console.log('[Fix] –ó–∞–º–µ–Ω–µ–Ω –∫–ª–∞—Å—Å –∏–∫–æ–Ω–∫–∏ –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∫–∞—Ä—Ç—ã –Ω–∞ fm-iconFont:', icon);
	        });
	        
	        // –¢–∞–∫–∂–µ –∏—â–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã —Ä—è–¥–æ–º —Å –±–∞–ª–∞–Ω—Å–æ–º
	        const balanceElements = document.querySelectorAll('[data-track="balance"], .balance');
	        balanceElements.forEach(function(balance) {
	            const icons = balance.querySelectorAll('i');
	            icons.forEach(function(icon) {
	                if (icon.classList.contains('fi-rr-credit-card') || icon.classList.contains('fi-credit-card')) {
	                    // –ó–∞–º–µ–Ω—è–µ–º –∫–ª–∞—Å—Å—ã Feather Icons –Ω–∞ fm-iconFont
	                    icon.classList.remove('fi', 'fi-rr-credit-card', 'fi-credit-card');
	                    icon.classList.add('fm-iconFont-ios-creditcard');
	                    
	                    // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª–∏
	                    icon.style.fontFamily = 'fm-iconFont';
	                    icon.style.fontStyle = 'normal';
	                    icon.style.fontWeight = 'normal';
	                    icon.style.display = 'inline-block';
	                    
	                    console.log('[Fix] –ó–∞–º–µ–Ω–µ–Ω –∫–ª–∞—Å—Å –∏–∫–æ–Ω–∫–∏ –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∫–∞—Ä—Ç—ã –≤ –±–∞–ª–∞–Ω—Å–µ –Ω–∞ fm-iconFont:', icon);
	                }
	            });
	        });
	        
	        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∏—â–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã i –≤ –±–∞–ª–∞–Ω—Å–µ
	        const allBalanceIcons = document.querySelectorAll('[data-track="balance"] i, .balance i');
	        allBalanceIcons.forEach(function(icon) {
	            if (!icon.classList.contains('fm-iconFont-ios-creditcard') && 
	                !icon.classList.contains('fm-iconFont-ios-creditcard--gMHLT')) {
	                // –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ fm-iconFont –∏–∫–æ–Ω–∫–∞, –∑–∞–º–µ–Ω—è–µ–º –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é
	                icon.classList.add('fm-iconFont-ios-creditcard');
	                icon.style.fontFamily = 'fm-iconFont';
	                icon.style.fontStyle = 'normal';
	                icon.style.fontWeight = 'normal';
	                icon.style.display = 'inline-block';
	                console.log('[Fix] –î–æ–±–∞–≤–ª–µ–Ω –∫–ª–∞—Å—Å fm-iconFont –∫ –∏–∫–æ–Ω–∫–µ –≤ –±–∞–ª–∞–Ω—Å–µ:', icon);
	            }
	        });
	    }
	    
	    // –ó–∞–ø—É—Å–∫–∞–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
	    setTimeout(fixCreditCardIcons, 1000);
	    setTimeout(fixCreditCardIcons, 3000);
	    setTimeout(fixCreditCardIcons, 5000);
	    setTimeout(fixCreditCardIcons, 10000);
	    
	    // –¢–∞–∫–∂–µ –∑–∞–ø—É—Å–∫–∞–µ–º –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
	    setInterval(fixCreditCardIcons, 2000);
	</script>

	<!-- –í–Ω–µ—à–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç—ã —É–¥–∞–ª–µ–Ω—ã –¥–ª—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã -->
</body>

</html>