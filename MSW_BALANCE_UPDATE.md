# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Mock Service Worker –¥–ª—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

### 1. **In-Memory –±–∞–ª–∞–Ω—Å**
```js
let BALANCE = 99999900; // —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –±–∞–ª–∞–Ω—Å
```

### 2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å**
- `/api/common/profile` —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `balance: BALANCE` (—Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–∞–º—è—Ç–∏)
- –§—É–Ω–∫—Ü–∏—è `response: () => ({ ... balance: BALANCE })` –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 3. **–°–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ —Å—Ç–∞–≤–∫–µ (PLACE)**
```js
// –ü–æ–ª—É—á–∞–µ–º amount –∏–∑ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
const body = await event.request.clone().json().catch(() => ({}));
const amount = Number(body.amount || 0);

// –°–ø–∏—Å—ã–≤–∞–µ–º amount –∏–∑ –±–∞–ª–∞–Ω—Å–∞
if (!isNaN(amount) && amount > 0) {
  BALANCE -= amount;
  console.log('[MSW] –°–ø–∏—Å–∞–Ω–∏–µ:', amount, '–ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å:', BALANCE);
}
```

### 4. **–ó–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–∏ –∫—ç—à–∞—É—Ç–µ (CASHOUT)**
```js
const payout = +(Math.random() * 3 + 1).toFixed(2);

// –ó–∞—á–∏—Å–ª—è–µ–º payout –≤ –±–∞–ª–∞–Ω—Å
BALANCE += payout;
console.log('[MSW] –ó–∞—á–∏—Å–ª–µ–Ω–∏–µ:', payout, '–ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å:', BALANCE);
```

### 5. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω cashable**
- `cashable: true` –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–ø–∏–Ω–∞ (—Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∫—ç—à–∞—É—Ç)
- `cashable: false` –ø–æ—Å–ª–µ –∫—ç—à–∞—É—Ç–∞ (–æ—Ç–∫–ª—é—á–∞–µ—Ç –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–ø–∏–Ω–∞)

### 6. **–ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ —Ö–æ—Å—Ç–æ–≤**
```js
const ALLOW_HOSTS = ['localhost', '127.0.0.1', 'api.my-domain.com'];
```

### 7. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π –≤ –º–æ–∫–∞—Ö**
```js
const response = typeof mockData.response === 'function' ? mockData.response() : mockData.response;
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

- ‚úÖ **–ë–∞–ª–∞–Ω—Å —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è** –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å—Ç–∞–≤–∫–µ
- ‚úÖ **–ë–∞–ª–∞–Ω—Å –∑–∞—á–∏—Å–ª—è–µ—Ç—Å—è** –ø—Ä–∏ –∫—ç—à–∞—É—Ç–µ  
- ‚úÖ **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç** –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
- ‚úÖ **–ö–Ω–æ–ø–∫–∞ –∫—ç—à–∞—É—Ç–∞** –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–ª–∞–Ω—Å–æ–º
- ‚úÖ **–ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Ä–∞–±–æ—Ç–∞** –±–µ–∑ –≤–Ω–µ—à–Ω–µ–≥–æ API

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

1. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–≥—Ä—ã
2. Service Worker –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –ª–æ–≥–∏ `[MSW] –°–ø–∏—Å–∞–Ω–∏–µ:` –∏ `[MSW] –ó–∞—á–∏—Å–ª–µ–Ω–∏–µ:`
4. –ë–∞–ª–∞–Ω—Å –±—É–¥–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## üìù –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:

```
[MSW] –°–ø–∏—Å–∞–Ω–∏–µ: 10 –ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: 99999890
[MSW] –ó–∞—á–∏—Å–ª–µ–Ω–∏–µ: 2.5 –ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: 99999892.5
```
